{"cells":[{"cell_type":"code","source":["import os\n","import xml.etree.ElementTree as ET\n","\n","def process_xml_file(xml_path):\n","    try:\n","        with open(xml_path, 'r', encoding='utf-8') as file:\n","            xml_content = file.read()\n","\n","        # Добавим корневой элемент, чтобы создать валидный XML\n","        xml_content = f'<root>{xml_content}</root>'\n","\n","        # Парсим XML\n","        root = ET.fromstring(xml_content)\n","\n","        # Обработка и вывод результата\n","        result = ''\n","        for node in root.iter('node'):\n","            text = ' '.join(word.text.strip() for word in node.iter('node') if word.text)\n","            text = ''.join(char for char in text if char.isalpha() or char.isspace())\n","            result += text + '\\n'\n","\n","        # Определение пути для сохранения результата\n","        output_path = os.path.join(os.path.dirname(xml_path), 'output.txt')\n","\n","        # Сохранение результата в текстовый файл\n","        with open(output_path, 'w', encoding='utf-8') as output_file:\n","            output_file.write(result)\n","\n","        print(f'Successfully processed: {xml_path}')\n","\n","    except Exception as e:\n","        print(f'Error processing {xml_path}: {e}')\n","\n","def process_directory(input_directory):\n","    for root, dirs, files in os.walk(input_directory):\n","        for file in files:\n","            if file.endswith('.xml'):\n","                xml_path = os.path.join(root, file)\n","                process_xml_file(xml_path)\n","\n","# Пример использования\n","input_directory = \"/content/python_test_task-master — копия/data\"\n","process_directory(input_directory)"],"metadata":{"id":"ie3yMpgYSK4A","executionInfo":{"status":"ok","timestamp":1700409167092,"user_tz":-180,"elapsed":1601,"user":{"displayName":"","userId":""}},"outputId":"4a386e85-da49-4dae-c056-b720841acdde","colab":{"base_uri":"https://localhost:8080/"}},"execution_count":null,"outputs":[{"output_type":"stream","name":"stdout","text":["Successfully processed: /content/python_test_task-master — копия/data/90/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/89/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/84/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/88/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/62/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/151/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/67/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/45/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/19/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/69/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/20/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/72/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/138/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/140/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/59/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/21/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/31/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/134/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/131/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/22/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/29/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/160/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/52/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/92/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/33/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/152/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/155/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/86/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/157/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/87/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/56/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/158/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/156/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/37/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/154/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/95/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/144/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/97/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/98/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/49/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/53/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/48/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/40/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/58/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/26/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/141/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/57/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/17/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/73/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/42/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/13/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/13/.ipynb_checkpoints/output-checkpoint.xml\n","Successfully processed: /content/python_test_task-master — копия/data/149/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/55/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/133/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/93/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/137/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/99/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/143/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/18/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/148/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/75/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/94/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/38/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/47/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/64/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/130/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/23/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/14/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/79/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/91/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/150/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/139/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/50/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/146/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/51/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/76/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/96/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/16/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/63/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/136/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/25/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/142/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/74/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/153/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/77/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/54/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/159/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/27/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/36/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/68/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/80/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/135/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/83/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/39/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/30/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/70/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/35/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/82/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/28/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/32/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/43/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/15/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/34/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/44/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/24/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/61/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/60/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/41/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/71/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/66/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/85/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/132/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/81/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/145/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/78/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/3/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/11/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/1/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/4/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/7/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/118/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/102/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/103/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/114/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/112/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/124/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/113/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/121/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/128/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/106/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/120/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/104/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/107/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/115/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/100/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/126/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/108/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/117/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/105/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/127/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/129/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/111/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/125/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/123/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/116/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/101/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/122/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/109/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/110/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/sfsf/119/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/12/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/9/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/0/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/10/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/6/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/8/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/5/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/sf/2/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/147/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/46/output.xml\n","Successfully processed: /content/python_test_task-master — копия/data/65/output.xml\n"]}]}],"metadata":{"colab":{"provenance":[{"file_id":"/v2/external/notebooks/snippets/importing_libraries.ipynb","timestamp":1700409360375}]},"kernelspec":{"display_name":"Python 3","name":"python3"}},"nbformat":4,"nbformat_minor":0}